# Rack.Localization

Сборка содержит средства для языковой локализации приложений. 

## ILocalization

Основным интерфейсом в сборке является ILocalization. Локализация - это набор ключей-фраз, использующихся в UI приложения на одном языке (язык указывается полным названием с заглавной буквы на самом языке, т. е. в английской локализации в качестве языка указан "English"). Каждая локализация имеет собственный ключ, по которому к ней можно обращаться. 

В сборке присутствует стандартная реализация Localization.

## ILocalizationService

Интерфейс ILocalizationService представляет сервис локализации. Классы, реализующие этот интерфейс, загружают локализации приложения и предоставляют к ним доступ. Они также позволяют узнать/изменить текущий язык приложения. Как правило, приложение работает с одним экземпляром ILocalizationService.

## JsonLocalizationService

Сборка содержит стандартную реализацию ILocalizationService. Этот сервис сериализует и десериализует локализации в файлы JSON.  

Примеры двух локализаций на разных языках для одного приложения:
```json
{
  "Key": "Rack",
  "Language": "Русский",
  "LocalizedValues": {
    "AdminSchemaNotFound": "В базе данных, использующейся для аутентификации, не найдена схема \"Admin\". Проверьте корректность строки подключения.",
    "ApplicationNotInstalled": "Приложение не установлено."
  }
}
```
```json
{
  "Key": "Rack",
  "Language": "English",
  "LocalizedValues": {
    "AdminSchemaNotFound": "Schema \"Admin\" is not found in the database used for authentication. Please check if the connection string is valid.",
    "ApplicationNotInstalled": "The application is not installed."
  }
}
```

В качестве полного или частичного ключа локализации рекомендуется использовать имя сборки, для которой создаётся локализация.
 
Файлы локализаций во избежание возможных конфликтов рекомендуется именовать по шаблону "{Ключ локализации}-{Язык локализации (интернациональный)}.json".

```
Rack-Russian.json
Rack-English.json
```

Файлы локализаций для проекта рекомендуется хранить в директории проекта \Localizations. Их необходимо копировать в выходной каталог при сборке проекта. Для этого в файл проекта рекомендуется добавить секцию:
```xml
<ItemGroup>
    <None Update="Localizations\*">
        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
</ItemGroup>
```

Сервис с помощью метода LoadLocalizations() при запуске приложения загружает локализации из всех найденных файлов в директории \Localizations выходного каталога приложения.

